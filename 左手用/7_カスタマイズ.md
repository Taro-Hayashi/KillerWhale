# Killer Whale カスタマイズ 右手用ビルドガイド （[左手用](../左手用/7_カスタマイズ.md)）

1. [スタートページ](../README.md)
2. [ベースユニットの組み立て](../左手用/2_ベースユニット.md)
3. [側面ユニットの組み立て](../左手用/3_側面ユニット_トラックボール.md)
4. [天面ユニットの組み立て](../左手用/4_天面ユニット.md)
5. [追加ユニットの組み立て](../左手用/5_追加ユニット.md)
6. [全体の組み立て](右手用/6_全体の組み立て.md)
7. カスタマイズ（このページ）
8. [その他](../左手用/8_その他.md)

## 左右を切り替える（単体使用時）
標準では左手用のQWERTYの配列になっていて、右手用で作るとキーマップがずれています。側面ユニットに一番近いキー（B、N）を押しながらピンヘッダに一番近いキー（Ctrl、Shift）を押すと右手用のYUIOPの配列に切り替えることができます。
![](../img/custom/lr.png)  
追加ユニットのトグルスイッチでも左右を切り替えられるようになっています。
  
また、側面ユニットに一番近いキーを押しながらUSBに一番近いキーを押すとRPI-RP2フォルダが出てファームウェアの更新をすることができます（画像のBOOT）
## 2台を接続する
左手用、右手用をTRSケーブルかTRRSケーブルで繋げると左右分割キーボードとして使用できます。  
こちらのファームウェアをダウンロードしてください。

- 左右分割 左手ボール [tarohayashi_killerwhale_duo_ballleft.uf2
](https://github.com/Taro-Hayashi/KillerWhale/releases/download/0.21.3/tarohayashi_killerwhale_duo_ballleft.uf2)
- 左右分割 右手ボール [tarohayashi_killerwhale_duo_ballright.uf2
](https://github.com/Taro-Hayashi/KillerWhale/releases/download/0.21.3/tarohayashi_killerwhale_duo_ballright.uf2)
- 左右分割 両手ボール [tarohayashi_killerwhale_duo_default.uf2
](https://github.com/Taro-Hayashi/KillerWhale/releases/download/0.21.3/tarohayashi_killerwhale_duo_default.uf2)

両手ともファームウェアを更新したらUSBケーブルを外してTRRS（TRS）ケーブルで左右を繋いでください。
#### ※左右間のケーブルを着け外しする前には毎回USBケーブルを抜いてください
![](../img/custom/IMG_5884.jpeg)  
差し込み口は2つありますが、どちらを使用しても大丈夫です。  

## LEDの設定を変える
角のキーを長押すると発光の設定が出来ます。
![](../img/custom/led.jpg)  

## トラックボールの方向、速度を変える
角から2番目のキーを長押しするとトラックボールの設定を変更できます。
![](../img/custom/mouse.jpg)  
## キーマップのカスタマイズ
ジョイスティクやホイールを含めて全てのキーは、VIAというWebサイト（もしくはアプリケーション）で好きなように変更することができます。使いやすいように変えて使ってください。

こちらのJSONファイルをダウンロードしてください。

- 単体使用向け [killer_whale_solo.json
](https://github.com/Taro-Hayashi/KillerWhale/releases/download/0.21.3/killer_whale_solo.json)
- 左右分割向け [killer_whale_duo.json
](https://github.com/Taro-Hayashi/KillerWhale/releases/download/0.21.3/killer_whale_duo.json)


Google Chrome（Microsoft Edge）を利用して下記webサイトにアクセスするか、VIAのアプリケーションをダウンロードして起動してください。  
- [Web版VIA（Google Chromeでアクセスしてください）](https://usevia.app/#/design)
- [アプリ版VIA](https://github.com/the-via/releases/releases)

DESIGNタブのLoadでダウンロードしたJSONファイルを読み込ませるとキーの変更が出来るようになります（アプリ版ではまずShow Design tabをオンにしてください）。  
![](../img/custom/via1.png)  
CONFIGUREタブのAuthorize device+からKiller Whale SOLO\DUOを追加してください。  
### 左右の変更（単体使用時）
LAYOUTSから見た目の左右を変更することができます。  
![](../img/custom/layout.png)  


### 通常のキーの割り当て
入れ替えたいキーを上から選んで、下のキーコード一覧をクリックすると設定できます。  
![](../img/custom/key.png)  
### ホイールのキーの割り当て
丸いキーを選ぶとホイールに割り当てるキーを設定できます。
![](../img/custom/re.png)  
QMK Firmwareのキーコードを入力してください。こちらに一覧があります。
-  https://github.com/qmk/qmk_firmware/blob/master/docs/keycodes.md

### 特殊なキーの割り当て
SPECIALタブのANYキーに直接入力することでいろいろな機能を設定することができます。
![](../img/custom/any.png)  
ここで紹介しているのはほんの一部です。
#### 修飾キーの同時押し
修飾キー（Shift、Ctrlなど）と通常のキーの組み合わせを1キーに割り当てることができます。
|機能|キーコード|
|-|-|
|Ctrl|C(キーコード)|
|Shift|S(キーコード)|
|Win、Cmd|G(キーコード)|
|Alt、Opt|A(キーコード)|
|Ctrl+Shift|RCS(キーコード)|
|Win、Cmd+Shift|LSG(キーコード)|


その他の組み合わせはこちらをご覧ください。
- https://github.com/qmk/qmk_firmware/blob/master/docs/mod_tap.md

#### Mod-Tap
長押しで修飾キー、短押しで通常のキーが打てるようなキーを設定できます。

|機能|キーコード|
|-|-|
|Ctrl|LCTL_T(キーコード)|
|Shift|LSFT_T(キーコード)|
|Win、Cmd|LGUI_T(キーコード)|
|Alt、Opt|LALT_T(キーコード)|
|Ctrl+Shift|RCS_T(キーコード)|
|Win、Cmd+Shift|LSG_T(キーコード)|

その他の組み合わせはこちらをご覧ください。
- https://github.com/qmk/qmk_firmware/blob/master/docs/mod_tap.md

#### レイヤーキー
レイヤーの切り替え方法は複数あります。
|機能|キーコード|
|-|-|
|押している間だけ切り替え|MO(レイヤー番号)|
|押すと切り替え、もう一度押すと戻る|TG(レイヤー番号)|
|長押しでレイヤー切り替え、短押しは通常キー|LT(レイヤー番号、キーコード)|

詳しくはこちらをご覧ください。
https://github.com/qmk/qmk_firmware/blob/master/docs/feature_layers.md

#### トラックボールの方向、速度を変更するキー
|機能|キーコード|
|-|-|
|速度UP|CUSTOM(65)|
|速度DOWN|CUSTOM(66)|
|角度+（左手）|CUSTOM(67)|
|角度-（左手）|CUSTOM(68)|
|X軸の反転（左手）|CUSTOM(69)|
|角度+（右手）|CUSTOM(70)|
|角度-（右手）|CUSTOM(71)|
|X軸の反転（右手）|CUSTOM(72)|
|スクロールとカーソルの切り替え（左手）|CUSTOM(73)|
|スクロールとカーソルの切り替え（右手）|CUSTOM(74)|
|スクロールの反転|CUSTOM(75)|
|スクロールモード|CUSTOM(76)|
|オートマウスの切り替え|CUSTOM(77)|


### 保存と復元
VIAで設定したキーマップは保存、復元することができます。ファームウェアを入れ替えると初期化されるので保存しておくと便利です。
![](../img/custom/save.png)  


8. [その他](../左手用/8_その他.md)
